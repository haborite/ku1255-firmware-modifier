[English](README.md) | [æ—¥æœ¬èª](docs/README-ja.md) |  [ç®€ä½“ä¸­æ–‡](docs/README-zh.md) 

# KU-1255 å›ºä»¶ä¿®æ”¹å™¨

è¿™æ˜¯ä¸€ä¸ªç”¨äºè‡ªå®šä¹‰ **[ThinkPad æŒ‡ç‚¹æ†é”®ç›˜](https://support.lenovo.com/jp/ja/solutions/pd026745-thinkpad-compact-usb-keyboard-with-trackpoint-overview-and-service-parts)** å›ºä»¶çš„ç®€æ´ GUI å·¥å…·ã€‚
ä½ å¯ä»¥é‡æ˜ å°„é”®ç›˜ä¸Šçš„ä»»æ„æŒ‰é”®â€”â€”ä¾‹å¦‚ï¼ŒæŠŠå·¦ä¸‹è§’ä½ç½®çš„ `Fn` ä¸ `Ctrl` äº’æ¢ã€‚ä½ è¿˜å¯ä»¥å°† TrackPointï¼ˆå°çº¢ç‚¹ï¼‰çš„é€Ÿåº¦æå‡åˆ°**è”æƒ³é©±åŠ¨è®¾ç½®é™åˆ¶çš„æ°´å¹³**ã€‚

ç”±äºæ‰€æœ‰ä¿®æ”¹éƒ½ç›´æ¥å†™å…¥é”®ç›˜**å›ºä»¶**ï¼Œå› æ­¤**æ— éœ€ä»»ä½•ç³»ç»Ÿç«¯é…ç½®**ã€‚æ— è®ºè¿æ¥åˆ°å“ªå°è®¾å¤‡æˆ–å“ªä¸ªæ“ä½œç³»ç»Ÿï¼Œå¸ƒå±€éƒ½èƒ½ä¿æŒä¸€è‡´ã€‚

![GUI æ€»è§ˆ](https://github.com/haborite/ku1255-firmware-modifier/blob/main/docs/gui-overview.png)

---

## ğŸ“œ å…¼å®¹æœºå‹

**[Lenovo ThinkPad Compact USB Keyboard with TrackPointï¼ˆKU-1255ï¼‰](https://support.lenovo.com/jp/ja/solutions/pd026745-thinkpad-compact-usb-keyboard-with-trackpoint-overview-and-service-parts)**

**å‹å·ï¼ˆPart Numberï¼‰**ï¼š
0B47190, 0B47191, 0B47192, 0B47194, 0B47195, 0B47197, 0B47198, 0B47200, 0B47201, 0B47202, 0B47204, 0B47205, 0B47206, 0B47207, 0B47208, 0B47209, 0B47210, 0B47211, 0B47212, 0B47213, 0B47215, 0B47216, 0B47217, 0B47218, 0B47219, 0B47220, 0B47221, 0B47222, 0B47223, 0B47224, 0B47225

## âœ… ç³»ç»Ÿè¦æ±‚

* ç›®å‰åº”ç”¨ä»…æ”¯æŒ **Windows**ã€‚è‹¥æœ‰éœ€æ±‚ï¼Œå¯å¼€å‘ **macOS** ä¸ **Linux** ç‰ˆæœ¬ã€‚
* è¦åœ¨ Microsoft Windows ä¸Šè¿è¡Œï¼Œéœ€è¦å®‰è£… Microsoft Visual C++ å¯å†å‘è¡Œè½¯ä»¶åŒ…ã€‚
* ä¸€æ—¦å®Œæˆå›ºä»¶å†™å…¥ï¼Œé”®ç›˜åœ¨**å¤šæ•°æ“ä½œç³»ç»Ÿ**ä¸Šéƒ½å¯ç›´æ¥ä½¿ç”¨ï¼Œä¸å®‰è£…æ—¶æ‰€ç”¨ç³»ç»Ÿæ— å…³ã€‚
* é¦–æ¬¡è¿è¡Œæœ¬åº”ç”¨éœ€è¦è”ç½‘ï¼Œä»¥ä»è”æƒ³å®˜ç½‘é¡µé¢ä¸‹è½½å®˜æ–¹å›ºä»¶å®‰è£…ç¨‹åºã€‚

## ğŸš€ ä¸‹è½½ä¸è¿è¡Œ

1. å‰å¾€ [Releases](https://github.com/haborite/ku1255-firmware-modifier/releases/latest) é¡µé¢ä¸‹è½½ `ku1255-firmware-modifier.zip` çš„[æœ€æ–°ç‰ˆæœ¬](https://github.com/haborite/ku1255-firmware-modifier/releases/latest)ã€‚
2. è§£å‹ä¸‹è½½å¾—åˆ°çš„ `.zip` æ–‡ä»¶ã€‚
3. è¿è¡Œ `ku1255-firmware-modifier.exe`ã€‚
   * å¦‚æœçœ‹åˆ° â€œWindows protected your PC / Microsoft Defender SmartScreen prevented an unrecognized app from startingâ€ çš„æç¤ºï¼Œç‚¹å‡» **More info**ï¼ˆæ›´å¤šä¿¡æ¯ï¼‰ï¼Œç„¶åé€‰æ‹© **Run anyway**ï¼ˆä»è¦è¿è¡Œï¼‰ ç»§ç»­ã€‚

## ğŸ–¥ï¸ ç•Œé¢æ€»è§ˆ

![Interface Overview](https://github.com/haborite/ku1255-firmware-modifier/blob/main/docs/interface-overview.png)

1. **Keyboard Selectionï¼ˆé”®ç›˜é€‰æ‹©ï¼‰**
   é€‰æ‹©ä½ çš„é”®ç›˜å‹å·ã€‚ç¾å¼å¸ƒå±€è¯·é€‰æ‹©ï¼š`0B47190 (84 keys - ANSI)`ã€‚

2. **Language Selectionï¼ˆè¯­è¨€é€‰æ‹©ï¼‰**
   é€‰æ‹©åå¥½çš„è¯­è¨€ã€‚å¸¸è§çš„ç¾å¼å¸ƒå±€è¯·é€‰æ‹© `US / English`ã€‚

3. **Main Layerï¼ˆä¸»å±‚ï¼‰**
   å®šä¹‰é»˜è®¤é”®ä½æ˜ å°„ã€‚ç‚¹å‡»ä»»æ„æŒ‰é”®å¯æ›´æ”¹ï¼Œå¹¶åœ¨ä¸‹æ‹‰èœå•ä¸­é€‰å®šè¦æ˜ å°„çš„æ–°æŒ‰é”®ã€‚

4. **2nd Layerï¼ˆç¬¬äºŒå±‚ï¼‰**
   å®šä¹‰é…åˆ **Mod** é”®ä½¿ç”¨æ—¶çš„æŒ‰é”®è¡Œä¸ºã€‚

   * è¯¥å±‚**é»˜è®¤ç¦ç”¨**ï¼Œå› ä¸ºåˆå§‹çŠ¶æ€ä¸‹ä¸»å±‚æœªæ˜ å°„ Mod é”®ã€‚
   * **å¿…é¡»åœ¨ä¸»å±‚ä¸ç¬¬äºŒå±‚çš„åŒä¸€ä½ç½®åŒæ—¶åˆ†é… Mod é”®**ã€‚

5. **Macro Keys**  
   Create key macros consisting of combinations of Ctrl, Shift, Alt, and Win keys (up to 24 macros).

6. **Media Keys**  
   Configure media keys such as volume control and display brightness (up to 11 functions).

7. **TrackPoint Speedï¼ˆå°çº¢ç‚¹é€Ÿåº¦ï¼‰**  
   è®¾ç½® TrackPoint é€Ÿåº¦ï¼ˆé»˜è®¤å€¼ï¼š1ï¼‰ã€‚è¿™ä¸è”æƒ³é©±åŠ¨æˆ–æ“ä½œç³»ç»Ÿçš„é¼ æ ‡è®¾ç½®**æ— å…³**ã€‚å»ºè®®**å…ˆ**åœ¨é©±åŠ¨/ç³»ç»Ÿé‡Œå®Œæˆè®¾ç½®ï¼Œå†æ¥ä¿®æ”¹å›ºä»¶é€Ÿåº¦ã€‚

8. **Enable middle button click**  
   Enable middle button click (just like on a standard mouse) even with the official driver on MS Windows.

9. **Fn / Media Trigger**  
   Assign Fn-key functionality in addition to the original behavior of any selected key.

10. **Load configï¼ˆåŠ è½½é…ç½®ï¼‰**
   ä» `.json` æ–‡ä»¶åŠ è½½å·²ä¿å­˜çš„é”®ä½æ˜ å°„ã€‚

11. **Save configï¼ˆä¿å­˜é…ç½®ï¼‰**
   å°†å½“å‰é”®ä½æ˜ å°„ä¿å­˜ä¸º `.json` æ–‡ä»¶ã€‚

12. **Install firmwareï¼ˆå®‰è£…å›ºä»¶ï¼‰**
   å°†å½“å‰é…ç½®åˆ·å†™åˆ°é”®ç›˜ã€‚
   å¼€å§‹å‰è¯·ç¡®ä¿é”®ç›˜å·²æ’å…¥ã€‚
   å®‰è£…å®Œæˆåï¼Œ**æ‹”ä¸‹å¹¶é‡æ–°æ’å…¥**é”®ç›˜ä»¥ä½¿æ›´æ”¹ç”Ÿæ•ˆã€‚

## ğŸ”§ ç¤ºä¾‹ï¼šäº¤æ¢ Fn ä¸ Ctrl

1. ç‚¹å‡» **Load config**ï¼Œæ‰“å¼€ `example/Swap-Fn-Ctrl.json`ã€‚
2. åœ¨ **Main Layerï¼ˆä¸»å±‚ï¼‰** ä¸­ç¡®è®¤ `Fn` ä¸ `Left Ctrl` å·²äº’æ¢ã€‚
   ï¼ˆè¢«äº’æ¢çš„æŒ‰é”®ä¼šä»¥**è“è‰²é«˜äº®**ã€‚ï¼‰
3. ç‚¹å‡» **Install firmware**ã€‚
4. å›ºä»¶å®‰è£…å™¨å¯åŠ¨åï¼Œç‚¹å‡» **Start**ã€‚
5. å®‰è£…å®Œæˆåå…³é—­å®‰è£…å™¨ã€‚
6. æ‹”ä¸‹å¹¶é‡æ–°è¿æ¥é”®ç›˜ï¼Œæ–°é”®ä½æ˜ å°„å³åˆ»ç”Ÿæ•ˆã€‚

---

# è‡´è°¢

æœ¬é¡¹ç›®æ‰€é‡‡ç”¨çš„å›ºä»¶äºŒè¿›åˆ¶åˆ†ææ–¹æ³•å‚è€ƒäº†ä»¥ä¸‹è®¨è®ºå¸–ï¼š

* [https://github.com/lentinj/tp-compact-keyboard/issues/32](https://github.com/lentinj/tp-compact-keyboard/issues/32)

å‚è€ƒçš„ Usage ID ä¸åç§°å¯¹ç…§è¡¨ï¼š

* [https://bsakatu.net/doc/usb-hid-to-scancode/](https://bsakatu.net/doc/usb-hid-to-scancode/)

æœ¬åº”ç”¨ä»¥å¯æ‰©å±•ä¸ºè®¾è®¡ç›®æ ‡ï¼Œå¯æ”¯æŒå¤šè¯­è¨€é”®ç›˜å¸ƒå±€ã€‚

éå¸¸æ¬¢è¿æäº¤ PRï¼Œä¸ºä½ æ‰€ç”¨è¯­è¨€çš„é”®ç›˜æ·»åŠ æ”¯æŒï¼
